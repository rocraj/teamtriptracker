<div [ngClass]="{'fixed inset-0 z-50 flex items-center justify-center transition': true, 'opacity-0': !isOpen, 'invisible': !isOpen, 'bg-black/50': isOpen}" (click)="onBackdropClick()">
  <!-- Modal -->
  <div
    class="bg-white rounded-lg shadow-xl max-w-md w-full mx-4 transform transition-all"
    [class.scale-100]="isOpen"
    [class.scale-95]="!isOpen"
    (click)="onModalClick($event)"
  >
    <!-- Header -->
    <div class="px-6 py-4 border-b border-gray-200">
      <h2 class="text-xl font-semibold text-gray-900">Create New Team</h2>
    </div>

    <!-- Content -->
    <div class="px-6 py-4 space-y-4">
      <!-- Error Alert -->
      <app-alert
        *ngIf="error"
        [message]="error"
        [type]="'error'"
        [visible]="!!error"
      ></app-alert>

      <!-- Form -->
      <form (ngSubmit)="createTeam()" class="space-y-4">
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Team Name</label>
          <input
            [(ngModel)]="teamName"
            name="teamName"
            type="text"
            placeholder="e.g., Weekend Trip, Office Lunch"
            [disabled]="loading"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition disabled:bg-gray-100 disabled:cursor-not-allowed"
            (keyup.enter)="createTeam()"
          />
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Trip Budget (Optional)</label>
          <input
            [(ngModel)]="teamBudget"
            name="teamBudget"
            type="number"
            placeholder="e.g., 5000"
            [disabled]="loading"
            min="0"
            step="0.01"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition disabled:bg-gray-100 disabled:cursor-not-allowed"
            (keyup.enter)="createTeam()"
          />
        </div>
      </form>
    </div>

    <!-- Footer -->
    <div class="px-6 py-4 bg-gray-50 border-t border-gray-200 flex gap-3">
      <button
        (click)="createTeam()"
        [disabled]="loading || !teamName.trim()"
        class="flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium disabled:bg-gray-400 disabled:cursor-not-allowed"
      >
        <span *ngIf="!loading">Create Team</span>
        <span *ngIf="loading">Creating...</span>
      </button>
      <button
        type="button"
        (click)="closeModal()"
        [disabled]="loading"
        class="flex-1 px-4 py-2 bg-gray-200 text-gray-900 rounded-lg hover:bg-gray-300 transition font-medium disabled:bg-gray-200 disabled:cursor-not-allowed"
      >
        Cancel
      </button>
    </div>
  </div>
</div>
